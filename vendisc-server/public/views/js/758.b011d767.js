"use strict";(self["webpackChunkvendisc_front"]=self["webpackChunkvendisc_front"]||[]).push([[758],{1758:function(r,t,o){o.r(t),o.d(t,{default:function(){return c}});var s=function(){var r=this,t=r._self._c;return t("div",{staticClass:"pwd"},[t("div",{staticClass:"container"},[t("div",{staticClass:"pwd-form"},[t("div",{staticClass:"back"},[t("router-link",{attrs:{to:"/user"}},[t("box-icon",{attrs:{name:"arrow-back"}})],1)],1),r._m(0),t("MyInput",{staticClass:"mb",attrs:{value:r.oldPwd,placeholder:"Old Password",icon:"lock-alt",error:r.oldPwdError,msg:r.oldPwdErrorMsg,type:"password"},on:{"update:value":function(t){r.oldPwd=t},"update:error":function(t){r.oldPwdError=t}}}),t("MyInput",{staticClass:"mb",attrs:{value:r.newPwd,placeholder:"New Password",icon:"lock-alt",error:r.newPwdError,msg:r.newPwdErrorMsg,type:"password"},on:{"update:value":function(t){r.newPwd=t},"update:error":function(t){r.newPwdError=t}}}),t("vs-button",{staticClass:"mb",attrs:{block:"",loading:r.loading},on:{click:r.editPwd}},[r._v(" Edit ")])],1)])])},d=[function(){var r=this,t=r._self._c;return t("h1",{staticClass:"title mb"},[r._v(" Edit "),t("b",[r._v("Password")])])}],i=(o(7658),o(4847)),n=o(586),a={data:()=>({oldPwd:"",newPwd:"",loading:!1,oldPwdError:!1,newPwdError:!1,oldPwdErrorMsg:"",newPwdErrorMsg:""}),methods:{async editPwd(){try{if(this.loading=!0,!(0,i.Gu)(i.I2,this,this.oldPwd,this.newPwd))throw"Invalid input";await(0,n.Wf)({oldPwd:this.oldPwd,newPwd:this.newPwd}),await this.$store.dispatch("userLogout"),this.$router.push("/login")}catch(r){console.error(r),"Old password wrong, code: -26"===r&&(this.oldPwdError=!0,this.oldPwdErrorMsg=""),this.$vs.notification({icon:"<box-icon name='error-circle' color='white'></box-icon>",duration:3e3,progress:"auto",color:"danger",position:"top-center",title:"Error",text:r})}finally{this.loading=!1}}}},e=a,l=o(1001),w=(0,l.Z)(e,s,d,!1,null,"5efdde2a",null),c=w.exports}}]);
//# sourceMappingURL=758.b011d767.js.map