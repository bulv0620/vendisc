{"version":3,"file":"js/758.61369c04.js","mappings":"sKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,iBAAiB,IAAI,GAAGL,EAAIM,GAAG,GAAGJ,EAAG,UAAU,CAACE,YAAY,KAAKC,MAAM,CAAC,MAAQL,EAAIO,OAAO,YAAc,eAAe,KAAO,WAAW,MAAQP,EAAIQ,YAAY,IAAMR,EAAIS,eAAe,KAAO,YAAYC,GAAG,CAAC,eAAe,SAASC,GAAQX,EAAIO,OAAOI,CAAM,EAAE,eAAe,SAASA,GAAQX,EAAIQ,YAAYG,CAAM,KAAKT,EAAG,UAAU,CAACE,YAAY,KAAKC,MAAM,CAAC,MAAQL,EAAIY,OAAO,YAAc,eAAe,KAAO,WAAW,MAAQZ,EAAIa,YAAY,IAAMb,EAAIc,eAAe,KAAO,YAAYJ,GAAG,CAAC,eAAe,SAASC,GAAQX,EAAIY,OAAOD,CAAM,EAAE,eAAe,SAASA,GAAQX,EAAIa,YAAYF,CAAM,KAAKT,EAAG,YAAY,CAACE,YAAY,KAAKC,MAAM,CAAC,MAAQ,GAAG,QAAUL,EAAIe,SAASL,GAAG,CAAC,MAAQV,EAAIgB,UAAU,CAAChB,EAAIiB,GAAG,aAAa,MACp+B,EACIC,EAAkB,CAAC,WAAY,IAAIlB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,IAAI,CAACF,EAAIiB,GAAG,eACzI,G,6BC4BA,GACAE,KAAAA,KAAAA,CACAZ,OAAAA,GACAK,OAAAA,GACAG,SAAAA,EAEAP,aAAAA,EACAK,aAAAA,EACAJ,eAAAA,GACAK,eAAAA,KAEAM,QAAAA,CACA,gBACA,IAEA,GADA,kBACA,2CACA,2BACA,SACAb,OAAAA,KAAAA,OACAK,OAAAA,KAAAA,eAEA,mCACA,2BAsBA,CApBA,SACAS,QAAAA,MAAAA,GAEA,sCACA,oBACA,wBAGA,uBACAC,KAAAA,0DACAC,SAAAA,IACAC,SAAAA,OACAC,MAAAA,SACAC,SAAAA,aACAC,MAAAA,QACAC,KAAAA,GAEA,SAEA,eACA,CACA,IC5EoQ,I,UCQhQC,GAAY,OACd,EACA9B,EACAmB,GACA,EACA,KACA,WACA,MAIF,EAAeW,EAAiB,O","sources":["webpack://vendisc-front/./src/views/password/EditPwdView.vue","webpack://vendisc-front/src/views/password/EditPwdView.vue","webpack://vendisc-front/./src/views/password/EditPwdView.vue?af78","webpack://vendisc-front/./src/views/password/EditPwdView.vue?4b6a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pwd\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"pwd-form\"},[_c('div',{staticClass:\"back\"},[_c('router-link',{attrs:{\"to\":\"/user\"}},[_c('box-icon',{attrs:{\"name\":\"arrow-back\"}})],1)],1),_vm._m(0),_c('MyInput',{staticClass:\"mb\",attrs:{\"value\":_vm.oldPwd,\"placeholder\":\"Old Password\",\"icon\":\"lock-alt\",\"error\":_vm.oldPwdError,\"msg\":_vm.oldPwdErrorMsg,\"type\":\"password\"},on:{\"update:value\":function($event){_vm.oldPwd=$event},\"update:error\":function($event){_vm.oldPwdError=$event}}}),_c('MyInput',{staticClass:\"mb\",attrs:{\"value\":_vm.newPwd,\"placeholder\":\"New Password\",\"icon\":\"lock-alt\",\"error\":_vm.newPwdError,\"msg\":_vm.newPwdErrorMsg,\"type\":\"password\"},on:{\"update:value\":function($event){_vm.newPwd=$event},\"update:error\":function($event){_vm.newPwdError=$event}}}),_c('vs-button',{staticClass:\"mb\",attrs:{\"block\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.editPwd}},[_vm._v(\" Edit \")])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h1',{staticClass:\"title mb\"},[_vm._v(\" Edit \"),_c('b',[_vm._v(\"Password\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"pwd\">\r\n        <div class=\"container\">\r\n            <div class=\"pwd-form\">\r\n                <div class=\"back\">\r\n                    <router-link to=\"/user\">\r\n                        <box-icon name='arrow-back'></box-icon>\r\n                    </router-link>\r\n                </div>\r\n\r\n                <h1 class=\"title mb\">\r\n                    Edit <b>Password</b>\r\n                </h1>\r\n\r\n                <MyInput class=\"mb\" :value.sync=\"oldPwd\" placeholder=\"Old Password\" icon=\"lock-alt\"\r\n                    :error.sync=\"oldPwdError\" :msg=\"oldPwdErrorMsg\" type=\"password\"></MyInput>\r\n\r\n                <MyInput class=\"mb\" :value.sync=\"newPwd\" placeholder=\"New Password\" icon=\"lock-alt\"\r\n                    :error.sync=\"newPwdError\" :msg=\"newPwdErrorMsg\" type=\"password\"></MyInput>\r\n\r\n                <vs-button block class=\"mb\" @click=\"editPwd\" :loading=\"loading\">\r\n                    Edit\r\n                </vs-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { validate, editPwdValidator } from '@/utils/validator'\r\nimport { reqEditPassword } from '@/api'\r\nexport default {\r\n    data: () => ({\r\n        oldPwd: \"\",\r\n        newPwd: \"\",\r\n        loading: false,\r\n\r\n        oldPwdError: false,\r\n        newPwdError: false,\r\n        oldPwdErrorMsg: '',\r\n        newPwdErrorMsg: ''\r\n    }),\r\n    methods: {\r\n        async editPwd() {\r\n            try {\r\n                this.loading = true\r\n                if (!validate(editPwdValidator, this, this.oldPwd, this.newPwd))\r\n                    throw 'Invalid input'\r\n                await reqEditPassword({\r\n                    oldPwd: this.oldPwd,\r\n                    newPwd: this.newPwd\r\n                })\r\n                await this.$store.dispatch('userLogout')\r\n                this.$router.push('/login')\r\n            }\r\n            catch (error) {\r\n                console.error(error)\r\n\r\n                if (error === 'Old password wrong, code: -26') {\r\n                    this.oldPwdError = true\r\n                    this.oldPwdErrorMsg = ''\r\n                }\r\n\r\n                this.$vs.notification({\r\n                    icon: `<box-icon name='error-circle' color='white'></box-icon>`,\r\n                    duration: 3000,\r\n                    progress: \"auto\",\r\n                    color: \"danger\",\r\n                    position: \"top-center\",\r\n                    title: \"Error\",\r\n                    text: error\r\n                });\r\n            }\r\n            finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.pwd\r\n    padding 28px\r\n\r\n    .container\r\n        width 744px\r\n        height 450px\r\n        margin 0 auto\r\n        padding-top 130px\r\n\r\n        .pwd-form\r\n            background #fff\r\n            border-radius 12px\r\n            width 340px\r\n            padding 18px\r\n            text-align center\r\n            font-size .9rem !important\r\n            margin 0 auto\r\n            box-shadow rgba(100, 100, 111, 0.2) 0px 2px 29px 0px;\r\n            position relative\r\n\r\n            .back\r\n                position absolute\r\n                top 21px\r\n                cursor pointer\r\n\r\n            .title \r\n                font-size 1.3rem\r\n                color var(--vs-theme-code)\r\n                padding 6px 0\r\n\r\n                b \r\n                    font-weight bolder\r\n            \r\n            .mb\r\n                margin-bottom 18px\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditPwdView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditPwdView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPwdView.vue?vue&type=template&id=5efdde2a&scoped=true&\"\nimport script from \"./EditPwdView.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPwdView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPwdView.vue?vue&type=style&index=0&id=5efdde2a&prod&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5efdde2a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_m","oldPwd","oldPwdError","oldPwdErrorMsg","on","$event","newPwd","newPwdError","newPwdErrorMsg","loading","editPwd","_v","staticRenderFns","data","methods","console","icon","duration","progress","color","position","title","text","component"],"sourceRoot":""}